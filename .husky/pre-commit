#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Check if any code files are staged (skip for docs-only commits)
CODE_FILES=$(git diff --cached --name-only --diff-filter=ACMR | grep -E '\.(cs|csproj|sln|props)$' || true)

if [ -z "$CODE_FILES" ]; then
    echo "[Husky] No code files staged - skipping pre-commit checks"
    exit 0
fi

dotnet husky run --group pre-commit
